# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                                       Application.index

# Import CRUD routes
*       /admin                                  module:crud

# Ignore favicon requests
GET     /favicon.ico                            404

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public

# Login
GET     /login                                  Login.index
GET     /login/linkit                           Login.loginLinkIt
GET     /login/signup                           Login.signup
GET     /login/with/{provider}                  Login.loginWith

# Application
GET     /speakers                               Application.speakers
GET     /staff                                  Application.staff
GET     /sponsors                               Application.sponsors
GET     /members                                Application.members
GET     /interest/{interest}                    Application.searchByInterest
# I fucking don't know why this route is not used!
GET     /search/{query}                         Application.search 

# Activities    
GET     /activities                             Activities.general
GET     /activities/incoming/{providers}        Activities.for
GET     /activities/{login}/{providers}         Activities.of

# Profile
POST    /profile/save/{originalLogin}           Profile.save
GET     /profile/edit                           Profile.edit
GET     /profile/register/{login}/{provider}    Profile.register
GET     /profile/link                           Profile.link
GET     /profile/unlink                         Profile.unlink
GET     /profile/delete                         Profile.delete
GET     /profile/confirmdelete                  Profile.confirmDelete
GET     /profile/{login}                        Profile.show

# Dashboard
GET     /dashboard                              Dashboard.index
GET     /dashboard/link                         Dashboard.link

# Sessions
GET     /sessions                               Sessions.index
GET     /session/new                            Sessions.create
POST    /session                                Sessions.save
GET     /session/edit                           Sessions.edit
GET     /session/validate/{talkId}              Sessions.validate
GET     /session/unvalidate/{talkId}            Sessions.unvalidate
GET     /session/{sessionId}/{slugify}          Sessions.show
# Just in case we forget the slugified title as parameter
GET     /session/{sessionId}                    Sessions.show

# Lightning
GET     /lightnings                             LightningTalks.list
GET     /lightning/new                          LightningTalks.create
GET     /lightning/{sessionId}                  LightningTalks.show
# Two parameters needed : username and value (boolean)
POST    /lightning/{id}/vote                    Votes.vote
POST    /lightning                              LightningTalks.save
DELETE  /lightning/{sessionId}                  LightningTalks.delete


# Articles
GET     /articles                               Articles.index
GET     /articles/{size}                        Articles.list
POST    /article                                Articles.save
GET     /article/delete/{articleId}             Articles.delete
GET     /article/validate/{articleId}           Articles.validate
GET     /article/unvalidate/{articleId}         Articles.unvalidate
GET     /article/new                            Articles.create
GET     /article/edit                           Articles.edit
POST    /article/comment                        Articles.postComment
GET     /article/{articleId}                    Articles.show


#API
GET     /api                                    Application.api
GET     /api/interests                          Interests.list(format:'json')
GET     /api/lightnings                         LightningTalks.list(format:'json')
GET     /api/lightning/{id}                     LightningTalks.showSession(format:'json')
GET     /api/lightning/{id}/comments            LightningTalks.listComments(format:'json')
POST    /api/lightning/{id}/comment             LightningTalks.postComment
GET     /api/sessions                           Sessions.index(format:'json')
GET     /api/session/{id}                       Sessions.showSession(format:'json')
GET     /api/session/{id}/comments              Sessions.listComments(format:'json')
POST    /api/session/{id}/comment               Sessions.postComment
GET     /api/members                            Profile.list(format:'json')
GET     /api/member/{id}                        Profile.showById(format:'json')
GET     /api/login                              Login.login
GET     /api/login/linkit                       Login.loginWithLinkIt

# Secure
GET     /logout                                 Secure.logout

# Catch all
*       /{controller}                           {controller}.index
*       /{controller}/{action}                  {controller}.{action}
